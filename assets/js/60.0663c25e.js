(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{406:function(a,s,t){"use strict";t.r(s);var e=t(42),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"elasticsearch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch"}},[a._v("#")]),a._v(" ElasticSearch")]),a._v(" "),t("h2",{attrs:{id:"什么是es？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是es？"}},[a._v("#")]),a._v(" 什么是es？")]),a._v(" "),t("h2",{attrs:{id:"为什么使用es？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么使用es？"}},[a._v("#")]),a._v(" 为什么使用es？")]),a._v(" "),t("h2",{attrs:{id:"es部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#es部署"}},[a._v("#")]),a._v(" es部署")]),a._v(" "),t("h3",{attrs:{id:"虚机部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#虚机部署"}},[a._v("#")]),a._v(" 虚机部署")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("调整内核参数")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("最大文件打开数")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/security/limits.conf\n\tmidware soft nofile "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("65536")]),a._v("\n\tmidware hard nofile "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("65536")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("su")]),a._v(" - midware\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("ulimit")]),a._v(" -n\n")])])])]),a._v(" "),t("li",[t("p",[a._v("虚拟映射内存")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("sysctl -w vm.max_map_count"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("262144")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/sysctl.conf\n\tvm.max_map_count"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("262144")]),a._v("\nsysctl vm.max_map_count\n")])])])])])]),a._v(" "),t("li",[t("p",[a._v("修改配置文件")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("elasticsearch.yml")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("cluster.name: mwops-elasticsearch\n\tnode.name: node1\n\tpath.data: /data/es/data/node1\n\tpath.logs: /data/es/logs/node1\nnetwork.host: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0\nhttp.port: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9200")]),a._v("\ngateway.recover_after_nodes: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[a._v("jvm.options")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("-Xms6g\n-Xmx6g\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 可用内存的一半")]),a._v("\n")])])])])])]),a._v(" "),t("li",[t("p",[a._v("启动")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./bin/elasticsearch -d\n")])])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);