(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{400:function(a,e,t){"use strict";t.r(e);var s=t(42),n=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"基本介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本介绍"}},[a._v("#")]),a._v(" 基本介绍")]),a._v(" "),t("ul",[t("li",[a._v("数据表是数据库最重要的组成部分之一，数据是保存在数据表中")]),a._v(" "),t("li",[a._v("数据表由行(row)和列(column)来组成")]),a._v(" "),t("li",[a._v("每个数据表中至少有一列，行可以有零行、一行或多行")]),a._v(" "),t("li",[a._v("表名要求唯一，不要包含特殊字符，最好含义明确")])]),a._v(" "),t("h2",{attrs:{id:"创建数据表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建数据表"}},[a._v("#")]),a._v(" 创建数据表")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE [IF NOT EXISTS] tbl_name(\n    字段名称 字段类型 [完整性约束条件],\n    字段名称 字段类型 [完整性约束条件],\n    ...\n) ENGINE=存储引擎 CHARSET=编码方式;\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE IF NOT EXISTS user(\n    id INT,\n    username VARCHAR(20),\n    password CHAR(32),\n    email VARCHAR(50),\n    age TINYINT,\n    card CHAR(18),\n    tel CHAR(11),\n    salary FLOAT(8,2),\n    married TINYINT(1),\n    addr VARCHAR(100),\n    sex ENUM('男', '女', '保密')\n) ENGINE=INNODB CHARSET=UTF8;\n")])])]),t("h3",{attrs:{id:"完整性约束条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#完整性约束条件"}},[a._v("#")]),a._v(" 完整性约束条件")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("约束条件")]),a._v(" "),t("th",[a._v("描述")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("UNSIGNED")]),a._v(" "),t("td",[a._v("无符号，没有负数，从0开始")])]),a._v(" "),t("tr",[t("td",[a._v("ZEROFILL")]),a._v(" "),t("td",[a._v("零填充，当显示长度不够的时候可以使用前补0的效果填充至指定长度")])]),a._v(" "),t("tr",[t("td",[a._v("NOT NULL")]),a._v(" "),t("td",[a._v("非空约束，插入值的时候这个字段必须要有值")])]),a._v(" "),t("tr",[t("td",[a._v("DEFAULT")]),a._v(" "),t("td",[a._v("默认值，如果插入记录的时候没有给字段赋值，则使用默认值")])]),a._v(" "),t("tr",[t("td",[a._v("PRIMARY KEY")]),a._v(" "),t("td",[a._v("主键，标识记录的唯一性，值不能重复，一个表只能有一个主键，自动禁止为空")])]),a._v(" "),t("tr",[t("td",[a._v("UNIQUE KEY")]),a._v(" "),t("td",[a._v("唯一性，一个表中可以有多个字段是唯一索引，同样的值不能重复，但NULL值除外")])]),a._v(" "),t("tr",[t("td",[a._v("AUTO_INCREMENT")]),a._v(" "),t("td",[a._v("自动增长，只能用于数值列，而且配合索引使用,默认起始值从1开始，每次增长1")])]),a._v(" "),t("tr",[t("td",[a._v("FOREIGN KEY")]),a._v(" "),t("td",[a._v("外键约束")])])])]),a._v(" "),t("h3",{attrs:{id:"测试主键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试主键"}},[a._v("#")]),a._v(" 测试主键")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE test_primary_key(\n    id INT UNSIGNED PRIMARY KEY,\n    username VARCHAR(20)\n);\n\n-- 省略PRIMARY\nCREATE TABLE test_primary_key1(\n    id INT UNSIGNED KEY,\n    username VARCHAR(20)\n);\n\n-- 单独添加\nCREATE TABLE test_primary_key2(\n    id INT UNSIGNED,\n    username VARCHAR(20),\n    PRIMARY KEY(id)\n);\n\n-- 复合主键\nCREATE TABLE test_primary_key3(\n    id INT UNSIGNED,\n    courseId VARCHAR(20),\n    username VARCHAR(20),\n    email VARCHAR(50),\n    PRIMARY KEY(id, courseId)\n);\n")])])]),t("h3",{attrs:{id:"测试自增auto-increment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试自增auto-increment"}},[a._v("#")]),a._v(" 测试自增AUTO_INCREMENT")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE test_auto_increment(\n    id INT UNSIGNED KEY AUTO_INCREMENT,\n    username VARCHAR(20),\n);\n\nINSERT test_auto_increment(id, username) VALUES(NULL, 'E');\n")])])]),t("h3",{attrs:{id:"测试非空"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试非空"}},[a._v("#")]),a._v(" 测试非空")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE test_not_null(\n    a VARCHAR(20),\n    b VARCHAR(20) NOT NULL\n);\n")])])]),t("h3",{attrs:{id:"测试默认值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试默认值"}},[a._v("#")]),a._v(" 测试默认值")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE test_default(\n    id INT UNSIGNED AUTO_INCREMENT KEY,\n    username VARCHAR(20) NOT NULL,\n    age TINYINT UNSIGNED DEFAULT 18,\n    email VARCHAR(50) NOT NULL default 'admin@qq.com'\n);\n\nCREATE TABLE test_default1(\n    id INT UNSIGNED AUTO_INCREMENT KEY,\n    sex ENUM('a','b','c') NOT NULL DEFAULT 'a'\n);\n\nINSERT test_default1(sex) VALUES(DEFAULT);\nINSERT test_default1(id) VALUES(2);\n")])])]),t("h3",{attrs:{id:"测试unique-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试unique-key"}},[a._v("#")]),a._v(" 测试UNIQUE KEY")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE  TABLE test_unique(\n    id INT UNSIGNED AUTO_INCREMENT KEY,\n    username VARCHAR(20) NOT NULL UNIQUE KEY,\n    email VARCHAR(50) UNIQUE,\n    card CHAR(18) UNIQUE\n);\n")])])]),t("h3",{attrs:{id:"完整建表案例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#完整建表案例"}},[a._v("#")]),a._v(" 完整建表案例")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE IF NOT EXISTS `user`(\n    `id` INT UNSIGNED AUTO_INCREMENT KEY COMMENT '用户编号',\n    `username` VARCHAR(20) NOT NULL UNIQUE COMMENT '用户名',\n    `password` CHAR(32) NOT NULL COMMENT '密码',\n    `email` VARCHAR(50) NOT NULL UNIQUE COMMENT '邮箱',\n    `age` TINYINT UNSIGNED NOT NULL DEFAULT 18 COMMENT '年龄',\n    `sex` ENUM('男', '女', '保密') NOT NULL DEFAULT '保密' COMMENT '性别',\n    `tel` CHAR(11) NOT NULL UNIQUE COMMENT '电话',\n    `addr` VARCHAR(50) NOT NULL DEFAULT '北京' COMMENT '地址',\n    `card` CHAR(18) NOT NULL UNIQUE COMMENT '身份证号',\n    `married` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '0代表未结婚，1代表已结婚',\n    `salary` FLOAT(8,2) NOT NULL DEFAULT 0 COMMENT '薪水'\n) ENGINE=INNODB DEFAULT CHARSET=UTF8;\n")])])]),t("h2",{attrs:{id:"查看所有数据表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看所有数据表"}},[a._v("#")]),a._v(" 查看所有数据表")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("SHOW TABLES;\nSHOW [FULL] TABLES [{FROM | IN} db_name] [LIKE 'pattern' | WHERE expr]\n")])])]),t("h2",{attrs:{id:"查看指定数据表的详细信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看指定数据表的详细信息"}},[a._v("#")]),a._v(" 查看指定数据表的详细信息")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("SHOW CREATE TABLE tbl_name;\n")])])]),t("h2",{attrs:{id:"查看表结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看表结构"}},[a._v("#")]),a._v(" 查看表结构")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("DESC tbl_name;\nDESCRIBE tbl_name;\nSHOW COLUMNS FROM tbl_name;\n")])])]),t("h2",{attrs:{id:"删除数据表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除数据表"}},[a._v("#")]),a._v(" 删除数据表")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("DROP TABLE [IF EXISTS] tbl_name;\n")])])]),t("h2",{attrs:{id:"表结构相关操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#表结构相关操作"}},[a._v("#")]),a._v(" 表结构相关操作")]),a._v(" "),t("h3",{attrs:{id:"添加字段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加字段"}},[a._v("#")]),a._v(" 添加字段")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name \nADD 字段名称 字段属性 [完整性约束条件] [FIRST|AFTER 字段名称];\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE IF NOT EXISTS user1(\n    id INT UNSIGNED AUTO_INCREMENT KEY\n);\n-- 添加用户名字段\nALTER TABLE user1 ADD username VARCHAR(20);\n\n-- 添加密码字段\nALTER TABLE user1 ADD password CHAR(32) NOT NULL;\n\n-- 添加邮箱字段\nALTER TABLE user1 ADD email VARCHAR(50) NOT NULL UNIQUE AFTER username;\n\n-- 添加测试字段,添加到首位\nALTER TABLE user1 ADD test TINYINT(1) NOT NULL DEFAULT 0 FIRST;\n\n-- 添加多个字段，添加age，addr字段，删除email字段\nALTER TABLE user1\nADD age TINYINT UNSIGNED NOT NULL DEFAULT 18,\nADD addr VARCHAR(100) NOT NULL DEFAULT '背景',\nDROP email;\n")])])]),t("h3",{attrs:{id:"删除字段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除字段"}},[a._v("#")]),a._v(" 删除字段")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name \nDROP 字段名称;\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("-- 删除test字段\nALTER TABLE user1 DROP test;\n")])])]),t("h3",{attrs:{id:"添加默认值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加默认值"}},[a._v("#")]),a._v(" 添加默认值")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name\nALTER 字段名称 SET DEFAULT 默认值;\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE user2(\n    id INT UNSIGNED AUTO_INCREMENT KEY,\n    username VARCHAR(20) NOT NULL,\n    age TINYINT UNSIGNED NOT NULL DEFAULT 18,\n    email VARCHAR(50) NOT NULL\n);\n\n-- 给email字段添加默认值admin@qq.com\nALTER TABLE user2\nALTER email SET DEFAULT 'admin@qq.com'\n")])])]),t("h3",{attrs:{id:"删除默认值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除默认值"}},[a._v("#")]),a._v(" 删除默认值")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name\nALTER 字段名称 DROP DEFAULT;\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("-- 删除age字段默认值\nALTER TABLE user2\nALTER age DROP DEFAULT;\n")])])]),t("h3",{attrs:{id:"修改字段类型、约束条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改字段类型、约束条件"}},[a._v("#")]),a._v(" 修改字段类型、约束条件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name\nMODIFY 字段名称 字段类型 [约束条件] [FIRST|AFTER 字段名称];\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE user3(\n    id INT UNSIGNED AUTO_INCREMENT KEY,\n    username VARCHAR(5) NOT NULL UNIQUE,\n    password CHAR(32) NOT NULL,\n    email VARCHAR(10) NOT NULL\n);\n\n-- 将用户名字段的长度改为20\nALTER TABLE user3\nMODIFY username VARCHAR(20) NOT NULL;\n\n-- 将密码字段长度改为40\nALTER TABLE user3\nMODIFY password CHAR(40) NOT NULL;\n\n-- 将email字段改为VARCHAR(50) NOT NULL FIRST\nALTER TABLE user3\nMODIFY email VARCHAR(50) NOT NULL FIRST;\n")])])]),t("h3",{attrs:{id:"修改字段名称、字段类型、约束条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改字段名称、字段类型、约束条件"}},[a._v("#")]),a._v(" 修改字段名称、字段类型、约束条件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name\nCHANGE 原字段名称 新字段名称 字段类型 [约束条件] [FIRST|AFTER 字段名称]\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("-- 将username名称改为user\nALTER TABLE user3\nCHANGE username user VARCHAR(20) NOT NULL;\n")])])]),t("h3",{attrs:{id:"添加主键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加主键"}},[a._v("#")]),a._v(" 添加主键")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name\nADD PRIMARY KEY(字段名称);\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE user4(\n    id INT UNSIGNED,\n    username VARCHAR(20) NOT NULL\n);\nALTER TABLE user4\nADD PRIMARY KEY(id);\n\n")])])]),t("h3",{attrs:{id:"删除主键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除主键"}},[a._v("#")]),a._v(" 删除主键")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name\nDROP PRIMARY KEY;\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE user4\nDROP PRIMARY KEY;\n\nCREATE TABLE user4(\n    id INT UNSIGNED AUTO_INCREMENT KEY,\n    username VARCHAR(20) NOT NULL\n);\n\n-- 将id的AUTO_INCREMENT去掉才能删除主键\nALTER TABLE user5\nMODIFY id INT UNSIGNED;\nALTER TABLE user5\nDROP PRIMARY KEY;\n")])])]),t("h3",{attrs:{id:"添加唯一索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加唯一索引"}},[a._v("#")]),a._v(" 添加唯一索引")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name\nADD UNIQUE KEY|INDEX [index_name] (字段名称)\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE user6(\n    id INT UNSIGNED AUTO_INCREMENT KEY,\n    username VARCHAR(20) NOT NULL UNIQUE,\n    password CHAR(32) NOT NULL,\n    email VARCHAR(50) NOT NULL UNIQUE\n);\n\n-- 不指定索引名称（默认和字段名相同）\nALTER TABLE user6\nADD UNIQUE KEY(username);\n\n-- 指定索引名称\nALTER TABLE user6\nADD UNIQUE INDEX uni_email(email);\n")])])]),t("h3",{attrs:{id:"删除唯一索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除唯一索引"}},[a._v("#")]),a._v(" 删除唯一索引")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name\nDROP INDEX index_name;\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE user6\nDROP INDEX username;\n\nALTER TABLE user6\nDROP INDEX email;\n")])])]),t("h3",{attrs:{id:"修改数据表名称"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改数据表名称"}},[a._v("#")]),a._v(" 修改数据表名称")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name RENAME [TO|AS] new_tbl_name;\nRENAME TABLE tbl_name TO new_tbl_name;\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER  TABLE user6\nRENAME TO user666;\n\nALTER TABLE user666\nRENAME AS user6;\n")])])]),t("h3",{attrs:{id:"修改auto-increment的值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改auto-increment的值"}},[a._v("#")]),a._v(" 修改AUTO_INCREMENT的值")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tbl_name AUTO_INCREMENT=值;\n")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);