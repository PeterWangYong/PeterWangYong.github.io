(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{476:function(a,t,e){"use strict";e.r(t);var s=e(42),r=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"安装和使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装和使用"}},[a._v("#")]),a._v(" 安装和使用")]),a._v(" "),e("h2",{attrs:{id:"安装-docker-虚拟机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker-虚拟机"}},[a._v("#")]),a._v(" 安装 Docker 虚拟机")]),a._v(" "),e("h3",{attrs:{id:"centos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos"}},[a._v("#")]),a._v(" CentOS")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# https://download.docker.com/linux/centos/7/x86_64/stable/Packages/")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-20.10.2-3.el7.x86_64.rpm\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-cli-20.10.2-3.el7.x86_64.rpm\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://download.docker.com/linux/centos/7/x86_64/stable/Packages/containerd.io-1.4.3-3.1.el7.x86_64.rpm\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-rootless-extras-20.10.2-3.el7.x86_64.rpm\n\nyum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y containerd.io-1.4.3-3.1.el7.x86_64.rpm "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\ndocker-ce-20.10.2-3.el7.x86_64.rpm "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\ndocker-ce-cli-20.10.2-3.el7.x86_64.rpm "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\ndocker-ce-rootless-extras-20.10.2-3.el7.x86_64.rpm\n")])])]),e("h2",{attrs:{id:"docker-虚拟机命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-虚拟机命令"}},[a._v("#")]),a._v(" Docker 虚拟机命令")]),a._v(" "),e("h3",{attrs:{id:"容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#容器"}},[a._v("#")]),a._v(" 容器")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("# 暂停和恢复\ndocker pause\ndocker unpause\n## 停止和启动\ndocker stop\ndocker start\n## 查看和删除\ndocker ps [-a]\ndocker rm\n")])])]),e("h3",{attrs:{id:"镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#镜像"}},[a._v("#")]),a._v(" 镜像")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker run\ndocker exec\ndocker attach\ndocker commit\ndocker rmi\ndocker images\ndocker build\ndocker save\ndocker load\n")])])]),e("h3",{attrs:{id:"仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#仓库"}},[a._v("#")]),a._v(" 仓库")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker search\ndocker push\ndocker pull\n")])])]),e("h2",{attrs:{id:"镜像加速器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#镜像加速器"}},[a._v("#")]),a._v(" 镜像加速器")]),a._v(" "),e("p",[a._v("使用 DockerCloud，提高镜像下载速度")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('curl -sSL https://get.daocloud.io/daotools/set_mirror.sh | sh -s http://f1361db2.m.daocloud.io\n\nvim /etc/docker/daemon.json\n{"registry-mirrors": ["http://f1361db2.m.daocloud.io”]}\n')])])]),e("h3",{attrs:{id:"国内镜像源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#国内镜像源"}},[a._v("#")]),a._v(" 国内镜像源")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("https://registry.docker-cn.com\nhttp://hub-mirror.c.163.com\nhttps://docker.mirrors.ustc.edu.cn\nhttps://cr.console.aliyun.com/\n")])])]),e("h2",{attrs:{id:"镜像导入导出"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#镜像导入导出"}},[a._v("#")]),a._v(" 镜像导入导出")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker save -o /root/openjdk.tar.gz docker.io/openjdk\ndocker load < /root/openjdk.tar.gz\n")])])]),e("h2",{attrs:{id:"修改镜像名字"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改镜像名字"}},[a._v("#")]),a._v(" 修改镜像名字")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker tag docker.io/openjdk openjdk\n")])])]),e("h2",{attrs:{id:"创建容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建容器"}},[a._v("#")]),a._v(" 创建容器")]),a._v(" "),e("p",[a._v("创建容器的时候，我们可以映射端口和挂载目录")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker run -it -name java openjdk bash\ndocker run -it name java -p 9000:8080 -p 9001:8085 openjdk bash\ndocker run -it -name java -v /root/project:/soft --privileged oepnjdk bash\n\n# -p 宿主机端口:容器端口\n# -v 宿主机目录:容器目录\n# --privileged 允许向映射目录写入数据\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);