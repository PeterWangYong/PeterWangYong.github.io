<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础知识 | 皮特王同学</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="天地人和，君子勿劳">
    <link rel="preload" href="/assets/css/0.styles.34d67128.css" as="style"><link rel="preload" href="/assets/js/app.e05bc23e.js" as="script"><link rel="preload" href="/assets/js/2.51b70fa5.js" as="script"><link rel="preload" href="/assets/js/186.9eb8de24.js" as="script"><link rel="prefetch" href="/assets/js/10.a291ac75.js"><link rel="prefetch" href="/assets/js/100.3f0b7e36.js"><link rel="prefetch" href="/assets/js/101.c552d83a.js"><link rel="prefetch" href="/assets/js/102.b1c598a5.js"><link rel="prefetch" href="/assets/js/103.67aab20f.js"><link rel="prefetch" href="/assets/js/104.3472aa41.js"><link rel="prefetch" href="/assets/js/105.6959c54c.js"><link rel="prefetch" href="/assets/js/106.fb444e78.js"><link rel="prefetch" href="/assets/js/107.87876473.js"><link rel="prefetch" href="/assets/js/108.abeaad37.js"><link rel="prefetch" href="/assets/js/109.0f43212e.js"><link rel="prefetch" href="/assets/js/11.ddd7df59.js"><link rel="prefetch" href="/assets/js/110.a38bc3b0.js"><link rel="prefetch" href="/assets/js/111.000d2f2c.js"><link rel="prefetch" href="/assets/js/112.a27b0fec.js"><link rel="prefetch" href="/assets/js/113.33ae7ec3.js"><link rel="prefetch" href="/assets/js/114.591c3385.js"><link rel="prefetch" href="/assets/js/115.e4b5b088.js"><link rel="prefetch" href="/assets/js/116.63de2dd9.js"><link rel="prefetch" href="/assets/js/117.a9263b6e.js"><link rel="prefetch" href="/assets/js/118.cf6b3f12.js"><link rel="prefetch" href="/assets/js/119.2dc6854f.js"><link rel="prefetch" href="/assets/js/12.adc30b49.js"><link rel="prefetch" href="/assets/js/120.8734806e.js"><link rel="prefetch" href="/assets/js/121.7e9074e9.js"><link rel="prefetch" href="/assets/js/122.aa67bf3c.js"><link rel="prefetch" href="/assets/js/123.835000e0.js"><link rel="prefetch" href="/assets/js/124.468daa60.js"><link rel="prefetch" href="/assets/js/125.306d2d3a.js"><link rel="prefetch" href="/assets/js/126.8990b2d6.js"><link rel="prefetch" href="/assets/js/127.c381d669.js"><link rel="prefetch" href="/assets/js/128.e9a1088d.js"><link rel="prefetch" href="/assets/js/129.831b0e0c.js"><link rel="prefetch" href="/assets/js/13.aa136e26.js"><link rel="prefetch" href="/assets/js/130.128c5abf.js"><link rel="prefetch" href="/assets/js/131.40f6c2fb.js"><link rel="prefetch" href="/assets/js/132.167541de.js"><link rel="prefetch" href="/assets/js/133.e710902d.js"><link rel="prefetch" href="/assets/js/134.14707526.js"><link rel="prefetch" href="/assets/js/135.6ae1f98d.js"><link rel="prefetch" href="/assets/js/136.23353f6c.js"><link rel="prefetch" href="/assets/js/137.aad045a1.js"><link rel="prefetch" href="/assets/js/138.f00462e7.js"><link rel="prefetch" href="/assets/js/139.de28d444.js"><link rel="prefetch" href="/assets/js/14.55678347.js"><link rel="prefetch" href="/assets/js/140.ac1f7548.js"><link rel="prefetch" href="/assets/js/141.fb374f13.js"><link rel="prefetch" href="/assets/js/142.69484330.js"><link rel="prefetch" href="/assets/js/143.a89ca634.js"><link rel="prefetch" href="/assets/js/144.5b2e0803.js"><link rel="prefetch" href="/assets/js/145.d6465ef4.js"><link rel="prefetch" href="/assets/js/146.4956e0e8.js"><link rel="prefetch" href="/assets/js/147.c89d80f1.js"><link rel="prefetch" href="/assets/js/148.fbd308b9.js"><link rel="prefetch" href="/assets/js/149.7a66df43.js"><link rel="prefetch" href="/assets/js/15.d2312d89.js"><link rel="prefetch" href="/assets/js/150.b8277a8f.js"><link rel="prefetch" href="/assets/js/151.1305dbce.js"><link rel="prefetch" href="/assets/js/152.5cee1b51.js"><link rel="prefetch" href="/assets/js/153.0cf44746.js"><link rel="prefetch" href="/assets/js/154.76814d77.js"><link rel="prefetch" href="/assets/js/155.3b850575.js"><link rel="prefetch" href="/assets/js/156.99bb4565.js"><link rel="prefetch" href="/assets/js/157.75b8e49d.js"><link rel="prefetch" href="/assets/js/158.3071802f.js"><link rel="prefetch" href="/assets/js/159.65ac9129.js"><link rel="prefetch" href="/assets/js/16.7c6b01e4.js"><link rel="prefetch" href="/assets/js/160.32f525f5.js"><link rel="prefetch" href="/assets/js/161.31408b77.js"><link rel="prefetch" href="/assets/js/162.c379ad9f.js"><link rel="prefetch" href="/assets/js/163.ca8fc2ac.js"><link rel="prefetch" href="/assets/js/164.d5086a69.js"><link rel="prefetch" href="/assets/js/165.ba4cf62f.js"><link rel="prefetch" href="/assets/js/166.2748532d.js"><link rel="prefetch" href="/assets/js/167.a8622f4f.js"><link rel="prefetch" href="/assets/js/168.863f3550.js"><link rel="prefetch" href="/assets/js/169.b21db599.js"><link rel="prefetch" href="/assets/js/17.5dbf606c.js"><link rel="prefetch" href="/assets/js/170.24d27a0f.js"><link rel="prefetch" href="/assets/js/171.a45aff0c.js"><link rel="prefetch" href="/assets/js/172.3d826549.js"><link rel="prefetch" href="/assets/js/173.beb1cebc.js"><link rel="prefetch" href="/assets/js/174.4c130aa4.js"><link rel="prefetch" href="/assets/js/175.b70cc99d.js"><link rel="prefetch" href="/assets/js/176.98277d2d.js"><link rel="prefetch" href="/assets/js/177.ff8f6d49.js"><link rel="prefetch" href="/assets/js/178.ededc6a7.js"><link rel="prefetch" href="/assets/js/179.81de9b3b.js"><link rel="prefetch" href="/assets/js/18.1f2854ee.js"><link rel="prefetch" href="/assets/js/180.a02655bd.js"><link rel="prefetch" href="/assets/js/181.69086d25.js"><link rel="prefetch" href="/assets/js/182.dd1ebbea.js"><link rel="prefetch" href="/assets/js/183.a198cd0b.js"><link rel="prefetch" href="/assets/js/184.22ff80fb.js"><link rel="prefetch" href="/assets/js/185.2235b970.js"><link rel="prefetch" href="/assets/js/187.92b4a6e6.js"><link rel="prefetch" href="/assets/js/188.6abba854.js"><link rel="prefetch" href="/assets/js/189.e3aeac02.js"><link rel="prefetch" href="/assets/js/19.d1cf506c.js"><link rel="prefetch" href="/assets/js/190.31786de1.js"><link rel="prefetch" href="/assets/js/191.66902c13.js"><link rel="prefetch" href="/assets/js/192.f2307c88.js"><link rel="prefetch" href="/assets/js/193.dae15dd8.js"><link rel="prefetch" href="/assets/js/194.a238f917.js"><link rel="prefetch" href="/assets/js/195.30123e03.js"><link rel="prefetch" href="/assets/js/196.6809df3e.js"><link rel="prefetch" href="/assets/js/197.55b74690.js"><link rel="prefetch" href="/assets/js/198.1a3be374.js"><link rel="prefetch" href="/assets/js/199.dce58f83.js"><link rel="prefetch" href="/assets/js/20.4211a5df.js"><link rel="prefetch" href="/assets/js/200.e9b16681.js"><link rel="prefetch" href="/assets/js/201.456d4fbb.js"><link rel="prefetch" href="/assets/js/202.f290c489.js"><link rel="prefetch" href="/assets/js/203.28f2da99.js"><link rel="prefetch" href="/assets/js/204.109fecbf.js"><link rel="prefetch" href="/assets/js/205.9866bbeb.js"><link rel="prefetch" href="/assets/js/206.a7619cd4.js"><link rel="prefetch" href="/assets/js/207.e24bd90d.js"><link rel="prefetch" href="/assets/js/208.3a8cced8.js"><link rel="prefetch" href="/assets/js/209.b13ea7ec.js"><link rel="prefetch" href="/assets/js/21.190028ab.js"><link rel="prefetch" href="/assets/js/210.9061000b.js"><link rel="prefetch" href="/assets/js/211.581374b1.js"><link rel="prefetch" href="/assets/js/212.e405df9a.js"><link rel="prefetch" href="/assets/js/213.8d1638f3.js"><link rel="prefetch" href="/assets/js/214.7a0d49ce.js"><link rel="prefetch" href="/assets/js/215.26cfee8e.js"><link rel="prefetch" href="/assets/js/216.2584a7c2.js"><link rel="prefetch" href="/assets/js/217.277b18e1.js"><link rel="prefetch" href="/assets/js/218.9c0f470e.js"><link rel="prefetch" href="/assets/js/219.25273bc7.js"><link rel="prefetch" href="/assets/js/22.fb1b0473.js"><link rel="prefetch" href="/assets/js/220.6189c1cb.js"><link rel="prefetch" href="/assets/js/23.73513adf.js"><link rel="prefetch" href="/assets/js/24.22423bef.js"><link rel="prefetch" href="/assets/js/25.1624d77f.js"><link rel="prefetch" href="/assets/js/26.fbecf61b.js"><link rel="prefetch" href="/assets/js/27.71438bd0.js"><link rel="prefetch" href="/assets/js/28.9b52b033.js"><link rel="prefetch" href="/assets/js/29.a5aa6c09.js"><link rel="prefetch" href="/assets/js/3.227509d0.js"><link rel="prefetch" href="/assets/js/30.eabda9fc.js"><link rel="prefetch" href="/assets/js/31.b689d35b.js"><link rel="prefetch" href="/assets/js/32.3fdb3ad7.js"><link rel="prefetch" href="/assets/js/33.c581b042.js"><link rel="prefetch" href="/assets/js/34.402c94bb.js"><link rel="prefetch" href="/assets/js/35.af5037ee.js"><link rel="prefetch" href="/assets/js/36.ac956534.js"><link rel="prefetch" href="/assets/js/37.c5fb7157.js"><link rel="prefetch" href="/assets/js/38.e42189e8.js"><link rel="prefetch" href="/assets/js/39.3dde39af.js"><link rel="prefetch" href="/assets/js/4.7d5f245c.js"><link rel="prefetch" href="/assets/js/40.29a3045d.js"><link rel="prefetch" href="/assets/js/41.f6a6194d.js"><link rel="prefetch" href="/assets/js/42.da145eba.js"><link rel="prefetch" href="/assets/js/43.c77a7906.js"><link rel="prefetch" href="/assets/js/44.44568ce2.js"><link rel="prefetch" href="/assets/js/45.6641e68b.js"><link rel="prefetch" href="/assets/js/46.96d83f3f.js"><link rel="prefetch" href="/assets/js/47.66e66eb8.js"><link rel="prefetch" href="/assets/js/48.01a78376.js"><link rel="prefetch" href="/assets/js/49.4da04a07.js"><link rel="prefetch" href="/assets/js/5.f8be39f3.js"><link rel="prefetch" href="/assets/js/50.62e056b3.js"><link rel="prefetch" href="/assets/js/51.dd1cb69e.js"><link rel="prefetch" href="/assets/js/52.de981fa3.js"><link rel="prefetch" href="/assets/js/53.a4127fe6.js"><link rel="prefetch" href="/assets/js/54.4dc5ce6c.js"><link rel="prefetch" href="/assets/js/55.890b89ab.js"><link rel="prefetch" href="/assets/js/56.f31f55aa.js"><link rel="prefetch" href="/assets/js/57.5e4f5929.js"><link rel="prefetch" href="/assets/js/58.d76fb107.js"><link rel="prefetch" href="/assets/js/59.e4b27a40.js"><link rel="prefetch" href="/assets/js/6.401f62eb.js"><link rel="prefetch" href="/assets/js/60.0663c25e.js"><link rel="prefetch" href="/assets/js/61.2be6b600.js"><link rel="prefetch" href="/assets/js/62.fd24c33c.js"><link rel="prefetch" href="/assets/js/63.5d470386.js"><link rel="prefetch" href="/assets/js/64.01a030ca.js"><link rel="prefetch" href="/assets/js/65.a9f1381e.js"><link rel="prefetch" href="/assets/js/66.d9965c86.js"><link rel="prefetch" href="/assets/js/67.f139d451.js"><link rel="prefetch" href="/assets/js/68.b4eae763.js"><link rel="prefetch" href="/assets/js/69.5149a751.js"><link rel="prefetch" href="/assets/js/7.86e79151.js"><link rel="prefetch" href="/assets/js/70.933f722c.js"><link rel="prefetch" href="/assets/js/71.af30b45e.js"><link rel="prefetch" href="/assets/js/72.8ca9c66b.js"><link rel="prefetch" href="/assets/js/73.706861db.js"><link rel="prefetch" href="/assets/js/74.a03093e5.js"><link rel="prefetch" href="/assets/js/75.6c17d1f3.js"><link rel="prefetch" href="/assets/js/76.1d08f572.js"><link rel="prefetch" href="/assets/js/77.59898456.js"><link rel="prefetch" href="/assets/js/78.a17bf8db.js"><link rel="prefetch" href="/assets/js/79.cbec9dfa.js"><link rel="prefetch" href="/assets/js/8.793d4e97.js"><link rel="prefetch" href="/assets/js/80.364f7c18.js"><link rel="prefetch" href="/assets/js/81.3a874eba.js"><link rel="prefetch" href="/assets/js/82.d0fbb46d.js"><link rel="prefetch" href="/assets/js/83.adf964a1.js"><link rel="prefetch" href="/assets/js/84.f5af074d.js"><link rel="prefetch" href="/assets/js/85.592791aa.js"><link rel="prefetch" href="/assets/js/86.a45d7c22.js"><link rel="prefetch" href="/assets/js/87.46f6ed7b.js"><link rel="prefetch" href="/assets/js/88.dcde7c0e.js"><link rel="prefetch" href="/assets/js/89.98c5fe9a.js"><link rel="prefetch" href="/assets/js/9.d47de9d0.js"><link rel="prefetch" href="/assets/js/90.fd382b7c.js"><link rel="prefetch" href="/assets/js/91.0cf35e41.js"><link rel="prefetch" href="/assets/js/92.613c11a5.js"><link rel="prefetch" href="/assets/js/93.221f7cc9.js"><link rel="prefetch" href="/assets/js/94.cb87dceb.js"><link rel="prefetch" href="/assets/js/95.22dd3a57.js"><link rel="prefetch" href="/assets/js/96.5662debe.js"><link rel="prefetch" href="/assets/js/97.027ac229.js"><link rel="prefetch" href="/assets/js/98.27f52102.js"><link rel="prefetch" href="/assets/js/99.ed1573b3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.34d67128.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">皮特王同学</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontend/JavaScript/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/TypeScript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frontend/VueRouter/" class="nav-link">
  VueRouter
</a></li><li class="dropdown-item"><!----> <a href="/frontend/小程序/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/frontend/浏览器/" class="nav-link">
  浏览器
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/Django/" class="nav-link">
  Django
</a></li><li class="dropdown-item"><!----> <a href="/backend/JAVA/" class="nav-link">
  JAVA
</a></li><li class="dropdown-item"><!----> <a href="/backend/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/backend/MongoDB/" class="nav-link">
  MongoDB
</a></li><li class="dropdown-item"><!----> <a href="/backend/MyBatis/" class="nav-link">
  MyBatis
</a></li><li class="dropdown-item"><!----> <a href="/backend/MySQL/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/backend/Nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/backend/Node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/backend/PostgreSQL/" class="nav-link">
  PostgreSQL
</a></li><li class="dropdown-item"><!----> <a href="/backend/Python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/backend/Redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/backend/SpringBoot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/backend/大数据/" class="nav-link">
  大数据
</a></li><li class="dropdown-item"><!----> <a href="/backend/操作系统/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/backend/数据分析/" class="nav-link">
  数据分析
</a></li><li class="dropdown-item"><!----> <a href="/backend/数据结构/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/backend/架构设计/" class="nav-link">
  架构设计
</a></li><li class="dropdown-item"><!----> <a href="/backend/正则表达式/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/backend/深度学习/" class="nav-link">
  深度学习
</a></li><li class="dropdown-item"><!----> <a href="/backend/算法/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/backend/编译原理/" class="nav-link">
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/backend/网络爬虫/" class="nav-link">
  网络爬虫
</a></li><li class="dropdown-item"><!----> <a href="/backend/计算机组成原理/" class="nav-link">
  计算机组成原理
</a></li><li class="dropdown-item"><!----> <a href="/backend/计算机网络/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/backend/运维/" class="nav-link">
  运维
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="效率" class="dropdown-title"><span class="title">效率</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/efficiency/BUG/" class="nav-link">
  BUG
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/Docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/NPM/" class="nav-link">
  NPM
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/VSCode/" class="nav-link">
  VSCode
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/代码片段/" class="nav-link">
  代码片段
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/工作流/" class="nav-link">
  工作流
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/工具优化/" class="nav-link">
  工具优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/flower/" class="nav-link">
  flower
</a></li><li class="dropdown-item"><!----> <a href="/project/仿知乎-Django/" class="nav-link">
  仿知乎-Django
</a></li></ul></div></div> <a href="https://github.com/PeterWangYong/techBook" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontend/JavaScript/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/TypeScript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frontend/VueRouter/" class="nav-link">
  VueRouter
</a></li><li class="dropdown-item"><!----> <a href="/frontend/小程序/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/frontend/浏览器/" class="nav-link">
  浏览器
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/Django/" class="nav-link">
  Django
</a></li><li class="dropdown-item"><!----> <a href="/backend/JAVA/" class="nav-link">
  JAVA
</a></li><li class="dropdown-item"><!----> <a href="/backend/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/backend/MongoDB/" class="nav-link">
  MongoDB
</a></li><li class="dropdown-item"><!----> <a href="/backend/MyBatis/" class="nav-link">
  MyBatis
</a></li><li class="dropdown-item"><!----> <a href="/backend/MySQL/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/backend/Nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/backend/Node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/backend/PostgreSQL/" class="nav-link">
  PostgreSQL
</a></li><li class="dropdown-item"><!----> <a href="/backend/Python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/backend/Redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/backend/SpringBoot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/backend/大数据/" class="nav-link">
  大数据
</a></li><li class="dropdown-item"><!----> <a href="/backend/操作系统/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/backend/数据分析/" class="nav-link">
  数据分析
</a></li><li class="dropdown-item"><!----> <a href="/backend/数据结构/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/backend/架构设计/" class="nav-link">
  架构设计
</a></li><li class="dropdown-item"><!----> <a href="/backend/正则表达式/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/backend/深度学习/" class="nav-link">
  深度学习
</a></li><li class="dropdown-item"><!----> <a href="/backend/算法/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/backend/编译原理/" class="nav-link">
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/backend/网络爬虫/" class="nav-link">
  网络爬虫
</a></li><li class="dropdown-item"><!----> <a href="/backend/计算机组成原理/" class="nav-link">
  计算机组成原理
</a></li><li class="dropdown-item"><!----> <a href="/backend/计算机网络/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/backend/运维/" class="nav-link">
  运维
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="效率" class="dropdown-title"><span class="title">效率</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/efficiency/BUG/" class="nav-link">
  BUG
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/Docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/NPM/" class="nav-link">
  NPM
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/VSCode/" class="nav-link">
  VSCode
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/代码片段/" class="nav-link">
  代码片段
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/工作流/" class="nav-link">
  工作流
</a></li><li class="dropdown-item"><!----> <a href="/efficiency/工具优化/" class="nav-link">
  工具优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/flower/" class="nav-link">
  flower
</a></li><li class="dropdown-item"><!----> <a href="/project/仿知乎-Django/" class="nav-link">
  仿知乎-Django
</a></li></ul></div></div> <a href="https://github.com/PeterWangYong/techBook" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/frontend/JavaScript/" aria-current="page" class="active sidebar-link">基础知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#原始类型" class="sidebar-link">原始类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#string" class="sidebar-link">String</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#number" class="sidebar-link">Number</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#boolean" class="sidebar-link">Boolean</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#symbol" class="sidebar-link">Symbol</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#undefined" class="sidebar-link">undefined</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#null" class="sidebar-link">null</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#array" class="sidebar-link">Array</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#set" class="sidebar-link">Set</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#声明-2" class="sidebar-link">声明</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#添加元素" class="sidebar-link">添加元素</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#访问" class="sidebar-link">访问</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#存在" class="sidebar-link">存在</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#删除" class="sidebar-link">删除</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#清空" class="sidebar-link">清空</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#数组转换" class="sidebar-link">数组转换</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#数组去重" class="sidebar-link">数组去重</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#遍历" class="sidebar-link">遍历</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#交集" class="sidebar-link">交集</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#差集" class="sidebar-link">差集</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#并集" class="sidebar-link">并集</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#weakset" class="sidebar-link">WeakSet</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#map" class="sidebar-link">Map</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#map-2" class="sidebar-link">Map</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#声明-3" class="sidebar-link">声明</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#添加" class="sidebar-link">添加</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#访问-2" class="sidebar-link">访问</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#存在-2" class="sidebar-link">存在</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#删除-2" class="sidebar-link">删除</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#清空-2" class="sidebar-link">清空</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#遍历-2" class="sidebar-link">遍历</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#数组转换-2" class="sidebar-link">数组转换</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#weakmap" class="sidebar-link">WeakMap</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#math" class="sidebar-link">Math</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#date" class="sidebar-link">Date</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#正则表达式" class="sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#基础知识-2" class="sidebar-link">基础知识</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#字面量" class="sidebar-link">字面量</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#对象创建" class="sidebar-link">对象创建</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#原型与继承" class="sidebar-link">原型与继承</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#原型对象" class="sidebar-link">原型对象</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#原型检测" class="sidebar-link">原型检测</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#属性遍历" class="sidebar-link">属性遍历</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#object-create" class="sidebar-link">Object.create()</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#构造函数" class="sidebar-link">构造函数</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#继承与多态" class="sidebar-link">继承与多态</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#原型继承" class="sidebar-link">原型继承</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#对象工厂" class="sidebar-link">对象工厂</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#mixin-模式" class="sidebar-link">Mixin 模式</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#类" class="sidebar-link">类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#基础知识-3" class="sidebar-link">基础知识</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#声明-4" class="sidebar-link">声明</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#构造函数-2" class="sidebar-link">构造函数</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#原理分析" class="sidebar-link">原理分析</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#属性定义" class="sidebar-link">属性定义</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#类与函数差异" class="sidebar-link">类与函数差异</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#静态属性" class="sidebar-link">静态属性</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#静态方法" class="sidebar-link">静态方法</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#访问器" class="sidebar-link">访问器</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#访问控制" class="sidebar-link">访问控制</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#super" class="sidebar-link">super</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#function" class="sidebar-link">Function</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#声明-5" class="sidebar-link">声明</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#立即执行" class="sidebar-link">立即执行</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#函数提升" class="sidebar-link">函数提升</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#形参实参" class="sidebar-link">形参实参</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#默认参数" class="sidebar-link">默认参数</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#arguments" class="sidebar-link">arguments</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#箭头函数" class="sidebar-link">箭头函数</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#递归调用" class="sidebar-link">递归调用</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#回调函数" class="sidebar-link">回调函数</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#不定参数" class="sidebar-link">不定参数</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#this-绑定规则" class="sidebar-link">this 绑定规则</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#箭头函数-2" class="sidebar-link">箭头函数</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#改变-this-绑定" class="sidebar-link">改变 this 绑定</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#object" class="sidebar-link">Object</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#基础知识-4" class="sidebar-link">基础知识</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#展开语法" class="sidebar-link">展开语法</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#简洁定义" class="sidebar-link">简洁定义</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#遍历对象" class="sidebar-link">遍历对象</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#对象拷贝" class="sidebar-link">对象拷贝</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#工厂函数" class="sidebar-link">工厂函数</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#构造函数-3" class="sidebar-link">构造函数</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#闭包实现私有方法" class="sidebar-link">闭包实现私有方法</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#访问器属性" class="sidebar-link">访问器属性</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#访问器描述符" class="sidebar-link">访问器描述符</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#代理模式" class="sidebar-link">代理模式</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#json" class="sidebar-link">JSON</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#垃圾回收机制" class="sidebar-link">垃圾回收机制</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#bom" class="sidebar-link">BOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#location-对象" class="sidebar-link">location 对象</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#history-对象" class="sidebar-link">history 对象</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#dom" class="sidebar-link">DOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#node-类型" class="sidebar-link">Node 类型</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#document-类型" class="sidebar-link">document 类型</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#element-类型" class="sidebar-link">Element 类型</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#text-类型" class="sidebar-link">Text 类型</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#comment-类型" class="sidebar-link">Comment 类型</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#attr-类型" class="sidebar-link">Attr 类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#事件" class="sidebar-link">事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#事件流" class="sidebar-link">事件流</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#事件处理程序" class="sidebar-link">事件处理程序</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#事件对象" class="sidebar-link">事件对象</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#事件类型" class="sidebar-link">事件类型</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#事件委托-代理" class="sidebar-link">事件委托(代理)</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#自定义事件" class="sidebar-link">自定义事件</a></li></ul></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#super-关键字" class="sidebar-link">super 关键字</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#this-指向导致的原型调用问题" class="sidebar-link">this 指向导致的原型调用问题</a></li><li class="sidebar-sub-header"><a href="/frontend/JavaScript/#通过-call-方法解决-this-指向问题" class="sidebar-link">通过 call 方法解决 this 指向问题</a></li></ul></li></ul></li><li><a href="/frontend/JavaScript/DOM.html" class="sidebar-link">DOM</a></li><li><a href="/frontend/JavaScript/HTTPS.html" class="sidebar-link">HTTPS</a></li><li><a href="/frontend/JavaScript/Promise.html" class="sidebar-link">Promise</a></li><li><a href="/frontend/JavaScript/bind的实现原理.html" class="sidebar-link">bind的实现原理</a></li><li><a href="/frontend/JavaScript/不知道的事.html" class="sidebar-link">不知道的事</a></li><li><a href="/frontend/JavaScript/为什么DOM操作耗性能.html" class="sidebar-link">为什么DOM操作耗性能</a></li><li><a href="/frontend/JavaScript/事件循环.html" class="sidebar-link">事件循环</a></li><li><a href="/frontend/JavaScript/如何理解虚拟DOM.html" class="sidebar-link">如何理解虚拟DOM</a></li><li><a href="/frontend/JavaScript/深拷贝.html" class="sidebar-link">深拷贝</a></li><li><a href="/frontend/JavaScript/红宝书第4版笔记.html" class="sidebar-link">红宝书第四版笔记</a></li><li><a href="/frontend/JavaScript/节流防抖.html" class="sidebar-link">限流与防抖</a></li><li><a href="/frontend/JavaScript/闭包与应用.html" class="sidebar-link">闭包与应用</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="基础知识"><a href="#基础知识" class="header-anchor">#</a> 基础知识</h1> <h2 id="原始类型"><a href="#原始类型" class="header-anchor">#</a> 原始类型</h2> <h3 id="string"><a href="#string" class="header-anchor">#</a> String</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 创建</span>
<span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'houdunren'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token string">'后盾人'</span>

<span class="token comment">// 类型转换</span>
<span class="token keyword">typeof</span>（<span class="token number">99</span> <span class="token operator">+</span> <span class="token string">''</span>） <span class="token comment">// string</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">99</span>
num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 转义</span>
\t \n \\ \' \&quot;

<span class="token comment">// 字符串连接</span>
<span class="token string">'a'</span> <span class="token operator">+</span> <span class="token string">'b'</span>
<span class="token string">'a'</span> <span class="token operator">+=</span> <span class="token string">'b'</span>

<span class="token comment">// 模板字符串</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> good</span><span class="token template-punctuation string">`</span></span>   <span class="token comment">// 使用变量</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> good</span><span class="token template-punctuation string">`</span></span> <span class="token comment">// 使用表达式</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token comment">// 嵌套使用</span>

<span class="token comment">// 标签模板 定义标签函数，然后调用函数</span>
<span class="token keyword">function</span> <span class="token function">tag</span><span class="token punctuation">(</span><span class="token parameter">strings<span class="token punctuation">,</span> <span class="token operator">...</span>values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strings<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
tag <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

<span class="token comment">// 长度</span>
<span class="token string">'houdunren'</span><span class="token punctuation">.</span>length

<span class="token comment">// 大小写</span>
<span class="token string">'houdunren'</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'houdunren'</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 移除空白</span>
<span class="token string">'  houdunren'</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">' houdunren '</span><span class="token punctuation">.</span><span class="token function">trimLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">' houdunren '</span><span class="token punctuation">.</span><span class="token function">trimRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 单个字符</span>
<span class="token string">'houdunren'</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token string">'houdunren'</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// 截取字符串 slice</span>
<span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">'houdunren.com'</span>
hd<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

hd<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// hou 较小的作为起始位置</span>
hd<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment">// dunren  6为字符数</span>

hd<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// dunren.co</span>
hd<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// om</span>
hd<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token comment">// hou -9转为0</span>
hd<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// co</span>

<span class="token comment">// 查询字符串</span>
hd<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

hd<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>

hd<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">'com'</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex">/\.com/i</span><span class="token punctuation">)</span>

hd<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>

hd<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'h'</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">startsWIth</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

hd<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'com'</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 2为查找的结束位置</span>

<span class="token comment">// 替换字符串</span>
hd<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'houdunren'</span><span class="token punctuation">,</span> <span class="token string">'hdcms'</span><span class="token punctuation">)</span> <span class="token comment">// 默认只替换一次</span>
<span class="token string">'2023/02/12'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token operator">/</span>\<span class="token operator">/</span><span class="token regex">/g/</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span> <span class="token comment">// 全局替换需要正则</span>
<span class="token string">&quot;object&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;o&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span>

<span class="token comment">// 重复生成</span>
<span class="token string">'*'</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment">// 分隔</span>
<span class="token string">'hdcms'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token string">'1,2,3'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="number"><a href="#number" class="header-anchor">#</a> Number</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 声明</span>
<span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">99</span>

<span class="token comment">// 整数判断</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">1.2</span><span class="token punctuation">)</span>

<span class="token comment">// NaN 表示无效数值</span>
<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token string">'houdunren'</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span>

<span class="token comment">// 类型转换</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token string">'123'</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment">// 舍入操作</span>
<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token number">16.556</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 16.56 四舍五入</span>

<span class="token comment">// 浮点精度处理 推荐使用数学计算库 mathjs decimal.js</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span>
num<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="boolean"><a href="#boolean" class="header-anchor">#</a> Boolean</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 声明</span>
<span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token comment">// 隐式转换</span>
<span class="token number">1</span> <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token comment">// true转换为1</span>
<span class="token string">'1'</span> <span class="token operator">==</span> <span class="token boolean">true</span>  <span class="token comment">// 都首先转换为1,然后比较</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// 都转换为0，然后比较</span>

<span class="token comment">// 显式转换</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token string">''</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token number">0</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">null</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="symbol"><a href="#symbol" class="header-anchor">#</a> Symbol</h3> <h4 id="声明"><a href="#声明" class="header-anchor">#</a> 声明</h4> <p>Symbol 用于防止属性名冲突而产生的，比如向第三方对象添加属性时。</p> <p>Symbol 的值是唯一的，独一无二的不会重复的。</p> <p>Symbol 不可以添加属性</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="描述参数"><a href="#描述参数" class="header-anchor">#</a> 描述参数</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span>description<span class="token punctuation">)</span>

Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 根据描述获得Symbol对象，如果不存在则创建，创建的Symbol会在系统中登记 {des: Symbol ... }</span>
Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 根据Symbol对象返回系统中登记的描述信息</span>
</code></pre></div><h4 id="作为对象属性"><a href="#作为对象属性" class="header-anchor">#</a> 作为对象属性</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>symbol<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="迭代"><a href="#迭代" class="header-anchor">#</a> 迭代</h4> <p>Symbol 不能使用 for/in,for/of 遍历操作。</p> <p>可以使用 Object.getOwnPropertySymbols 获取所有 Symbol 属性。</p> <p>也可以使用 Reflect.ownKeys(obj)获取所有属性包括 Symbol。</p> <p>如果对象属性不想被遍历，可以使用 Symbol 保护。</p> <h3 id="undefined"><a href="#undefined" class="header-anchor">#</a> undefined</h3> <p>当声明的变量还未被初始化时，变量的默认值为 undefined，表示“缺少值”，就是此处应该有一个值，但是还没有定义。undefined 是预定义的全局变量，他的值就是“未定义”。</p> <h3 id="null"><a href="#null" class="header-anchor">#</a> null</h3> <p>null 是 JavaScript 语言的关键字，他表示一个特殊值，常用来描述“空值”。对 null 执行 typeof 运算，结果返回字符串“object”，这个最初是 JavaScript 设计的一个缺陷，后来渐渐被大家接受，可以理解为 object 的占位符。表示尚未存在的对象，常用来表示函数企图返回一个不存在的对象，Null 表示“没有对象”，即该处不应该有值。</p> <h2 id="array"><a href="#array" class="header-anchor">#</a> Array</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 声明</span>
<span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'houdun'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'hdcms'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> array2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'hdcms'</span><span class="token punctuation">,</span> <span class="token string">'houdun'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">// array2[0][1]</span>
Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span>

<span class="token comment">// 类型检测</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 长度</span>
<span class="token keyword">const</span> hd <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'houdun'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
hd<span class="token punctuation">.</span>length

<span class="token comment">// 展开语法</span>
<span class="token punctuation">[</span><span class="token operator">...</span><span class="token string">'abc'</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 解构赋值</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> age<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'zhuli'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment">// b = [2, 3]</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">,</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// b = 2</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'zhuli'</span><span class="token punctuation">]</span> <span class="token comment">// age = 22</span>
<span class="token keyword">function</span> <span class="token function">hd</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token function">hd</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 索引访问</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">// 追加元素</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 从后面添加</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 从前面添加</span>

<span class="token comment">// 删除元素</span>
arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 从后面删除</span>
arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 从前面删除</span>
arr<span class="token punctuation">.</span>length <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>

<span class="token comment">// 填充</span>
<span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// [1,1,1,1]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'houdun'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 填充指定位置</span>

<span class="token comment">// 切片</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// [2]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// [1,2,3]</span>

<span class="token comment">// splice 添加 删除 替换</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// [1,4,3] 从index=1开始删除1个并插入4</span>

<span class="token comment">// 清空</span>
user <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
user<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>
user<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>length<span class="token punctuation">)</span>

<span class="token comment">// 合并</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [1,2,3,4]</span>
<span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">// [1,2,3,4]</span>

<span class="token comment">// 内部复制</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// [1,3,3]</span>

<span class="token comment">// 查询</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 指定开始位置</span>

arr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//从后向前查找</span>
arr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> item <span class="token operator">===</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> item <span class="token operator">===</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 排序  原地算法</span>
arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v1<span class="token punctuation">,</span> v2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v1 <span class="token operator">-</span> v2<span class="token punctuation">)</span>  <span class="token comment">// 升序</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v1<span class="token punctuation">,</span> v2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v2 <span class="token operator">-</span> v1<span class="token punctuation">)</span>  <span class="token comment">// 降序</span>

<span class="token comment">// 遍历</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span>
arr<span class="token punctuation">.</span>entries<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> arr<span class="token punctuation">.</span>entries<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>


<span class="token comment">// 迭代器</span>
arr<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 流处理</span>
arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index<span class="token punctuation">,</span>array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index<span class="token punctuation">,</span>array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index<span class="token punctuation">,</span>array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index<span class="token punctuation">,</span>array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">reduceRight</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="set"><a href="#set" class="header-anchor">#</a> Set</h2> <h3 id="声明-2"><a href="#声明-2" class="header-anchor">#</a> 声明</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="添加元素"><a href="#添加元素" class="header-anchor">#</a> 添加元素</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> hd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'houdunren'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="访问"><a href="#访问" class="header-anchor">#</a> 访问</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>hd<span class="token punctuation">.</span>size
hd<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="存在"><a href="#存在" class="header-anchor">#</a> 存在</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>hd<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'hdcms'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="删除"><a href="#删除" class="header-anchor">#</a> 删除</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>hd<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'hdcms'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="清空"><a href="#清空" class="header-anchor">#</a> 清空</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>hd<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="数组转换"><a href="#数组转换" class="header-anchor">#</a> 数组转换</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token operator">...</span>hd<span class="token punctuation">]</span>
</code></pre></div><h3 id="数组去重"><a href="#数组去重" class="header-anchor">#</a> 数组去重</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">;</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="遍历"><a href="#遍历" class="header-anchor">#</a> 遍历</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>hd<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="交集"><a href="#交集" class="header-anchor">#</a> 交集</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> b<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="差集"><a href="#差集" class="header-anchor">#</a> 差集</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>b<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="并集"><a href="#并集" class="header-anchor">#</a> 并集</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="weakset"><a href="#weakset" class="header-anchor">#</a> WeakSet</h3> <p>成员只能是对象。</p> <p>添加到 WeakSet 的对象不增加引用计数。</p> <p>如果引用计数为 0， 垃圾回收时，WeakSet 中的对象自动删除。</p> <p>WeakSet 无法遍历。</p> <p>适合临时存放一组对象，避免内存泄漏。</p> <p>场景：存储 DOM 节点，避免当节点移除时出现内存泄漏。</p> <h2 id="map"><a href="#map" class="header-anchor">#</a> Map</h2> <h3 id="map-2"><a href="#map-2" class="header-anchor">#</a> Map</h3> <p>Map 是一组键值对的结构，用于解决以往不能用对象作为键的问题。</p> <p>函数、对象、基本类型都可以作为键或值。</p> <h3 id="声明-3"><a href="#声明-3" class="header-anchor">#</a> 声明</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'houdun'</span><span class="token punctuation">,</span> <span class="token string">'ren'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="添加"><a href="#添加" class="header-anchor">#</a> 添加</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'zhuli'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="访问-2"><a href="#访问-2" class="header-anchor">#</a> 访问</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>map<span class="token punctuation">.</span>size
map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="存在-2"><a href="#存在-2" class="header-anchor">#</a> 存在</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="删除-2"><a href="#删除-2" class="header-anchor">#</a> 删除</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="清空-2"><a href="#清空-2" class="header-anchor">#</a> 清空</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="遍历-2"><a href="#遍历-2" class="header-anchor">#</a> 遍历</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">of</span>
map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="数组转换-2"><a href="#数组转换-2" class="header-anchor">#</a> 数组转换</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token operator">...</span>hd<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token operator">...</span>hd<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token operator">...</span>hd<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token operator">...</span>hd<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="weakmap"><a href="#weakmap" class="header-anchor">#</a> WeakMap</h3> <p>键必须是对象类型</p> <p>WeakMap 对键名是弱引用</p> <p>垃圾回收不考虑 WeakMap 的键名</p> <p>不可 forEach(),keys(),values(),entries(),size 等</p> <p>当键的外部引用删除时，希望自动删除数据时使用 WeakMap</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="math"><a href="#math" class="header-anchor">#</a> Math</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 最大最小值</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>Math<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 舍入处理</span>
Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token number">1.11</span><span class="token punctuation">)</span>
Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">1.55</span><span class="token punctuation">)</span>
Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span>

<span class="token comment">// 随机值</span>
Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// [0,1)</span>
Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// [0, 5)</span>
</code></pre></div><h2 id="date"><a href="#date" class="header-anchor">#</a> Date</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 声明</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// date object</span>
<span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// date string</span>
Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 时间戳 number</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2020-12-12 03:05:02'</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>

<span class="token comment">// 类型转换</span>
<span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
hd <span class="token operator">*</span> <span class="token number">1</span>
<span class="token function">Number</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
hd<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> timestamp <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span>

<span class="token comment">// 格式化输出</span>
<span class="token keyword">let</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

<span class="token comment">// 使用moment.js</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token string">'2020-02-18 09:22:15'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'days'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD hh:mm:ss'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h2> <h3 id="基础知识-2"><a href="#基础知识-2" class="header-anchor">#</a> 基础知识</h3> <p>正则表达式是用于匹配字符串中字符组合的模式，在 JS 中，正则表达式也是对象。</p> <h3 id="字面量"><a href="#字面量" class="header-anchor">#</a> 字面量</h3> <p>使用<code>//</code>包裹的字面量创建方式是推荐的做法，但它不能在其中使用变量。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> hd <span class="token operator">=</span> <span class="token string">'houdunren.com'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex">/u/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="对象创建"><a href="#对象创建" class="header-anchor">#</a> 对象创建</h3> <p>当正则需要动态创建时使用对象方式。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> hd <span class="token operator">=</span> <span class="token string">'houdunren.com'</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'u'</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="原型与继承"><a href="#原型与继承" class="header-anchor">#</a> 原型与继承</h2> <h3 id="原型对象"><a href="#原型对象" class="header-anchor">#</a> 原型对象</h3> <p>每个函数都有一个 prototype 对象，函数创建的对象将继承该 prototype 对象（<code>__proto__</code>）</p> <p>函数的 prototype 对象默认包含：</p> <ul><li>constructor 指向函数自己</li> <li><code>__proto__</code>指向 Object 实例</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">getPropertypeOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="原型检测"><a href="#原型检测" class="header-anchor">#</a> 原型检测</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 检测构造函数的prototype属性是否出现在实例对象的原型链上</span>
user <span class="token keyword">instanceof</span> <span class="token class-name">User</span>

<span class="token comment">// 检测一个对象是否在另一个对象的原型链中</span>
b<span class="token punctuation">.</span><span class="token function">isPrototype</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// b是否是a的原型</span>
</code></pre></div><h3 id="属性遍历"><a href="#属性遍历" class="header-anchor">#</a> 属性遍历</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// in 检测对象及其原型链是否具有该属性</span>
<span class="token string">'name'</span> <span class="token keyword">in</span> user

<span class="token comment">// hasOwnProperty 检测对象自身是否具有该属性</span>
user<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>

<span class="token comment">// for/in 会遍历对象及其原型链上的属性（enumerable=true）</span>
</code></pre></div><h3 id="object-create"><a href="#object-create" class="header-anchor">#</a> Object.create()</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 创建对象并指定原型，第二个参数指定对象自己的属性</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhuli'</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
</code></pre></div><h3 id="构造函数"><a href="#构造函数" class="header-anchor">#</a> 构造函数</h3> <p>构造函数在被 new 时把构造函数的 prototype 赋值给新对象。</p> <p>对象本身的属性将覆盖原型链中的同名属性。</p> <h3 id="继承与多态"><a href="#继承与多态" class="header-anchor">#</a> 继承与多态</h3> <p>当对象中没有属性时，JS 会从原型上获取该属性，这就是继承在 JS 中的实现。</p> <h3 id="原型继承"><a href="#原型继承" class="header-anchor">#</a> 原型继承</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token parameter">sub<span class="token punctuation">,</span> sup</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  sub<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>sup<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
  sub<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> sub
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">extend</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> Person<span class="token punctuation">)</span> <span class="token comment">// 让User继承Person</span>
</code></pre></div><h3 id="对象工厂"><a href="#对象工厂" class="header-anchor">#</a> 对象工厂</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Factory</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> instance <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
  <span class="token function">User</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
  <span class="token keyword">return</span> instance
<span class="token punctuation">}</span>
<span class="token comment">// 这就是new的内部原理</span>
</code></pre></div><h3 id="mixin-模式"><a href="#mixin-模式" class="header-anchor">#</a> Mixin 模式</h3> <p>JS 中只支持单继承模式，如果一个对象要使用多个其他对象的方法，可以使用 Mixin 模式，核心是使用 Object.assign()进行方法合并。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'work'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> a<span class="token punctuation">,</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'eat'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// 将a,b的引用赋给了User.prototype，当调用b的eat方法时，super指向b自己的原型，因为JS是静态作用域。</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
user<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="类"><a href="#类" class="header-anchor">#</a> 类</h2> <h3 id="基础知识-3"><a href="#基础知识-3" class="header-anchor">#</a> 基础知识</h3> <p>为了和其他语言继承形态一致，JS 提供了 class 关键词用于模拟传统的 class，但底层实现机制依然是原型继承。</p> <p>class 只是语法糖为了让类的声明与继承更加简洁清晰。</p> <h3 id="声明-4"><a href="#声明-4" class="header-anchor">#</a> 声明</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 类声明</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 赋值表达式</span>
<span class="token keyword">let</span> Article <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="构造函数-2"><a href="#构造函数-2" class="header-anchor">#</a> 构造函数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token comment">// 对象方法</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 原型方法</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 如果不设置constructor则自动添加</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="原理分析"><a href="#原理分析" class="header-anchor">#</a> 原理分析</h3> <p>类其实是函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> User<span class="token punctuation">)</span> <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>User <span class="token operator">===</span> <span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="属性定义"><a href="#属性定义" class="header-anchor">#</a> 属性定义</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token comment">// 对象属性</span>
  age <span class="token operator">=</span> <span class="token number">22</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 对象属性</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="类与函数差异"><a href="#类与函数差异" class="header-anchor">#</a> 类与函数差异</h3> <p>class 是使用函数声明类的语法糖，但也有些区别</p> <ul><li>class 中定义的方法不能枚举</li> <li>class 默认使用 strict 严格模式执行</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
    <span class="token punctuation">}</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 注意点：直接调用test() 等同于 window.test()</span>
<span class="token comment">// 在严格模式下window.test() 中this不绑定window对象</span>
</code></pre></div><h3 id="静态属性"><a href="#静态属性" class="header-anchor">#</a> 静态属性</h3> <p>静态属性即为类设置的属性，而不是为对象设置。</p> <p>在 class 中为属性添加 static 关键字即声明为静态属性。</p> <p>静态属性只有类本身可以访问到</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> name <span class="token operator">=</span> <span class="token string">'zhuli'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>User<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// zhuli</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre></div><h3 id="静态方法"><a href="#静态方法" class="header-anchor">#</a> 静态方法</h3> <p>指通过类访问不能通过对象访问的方法，比如系统的 Math.round()就是静态方法。</p> <p>一般来讲方法不需要对象属性参与计算就可以定义为静态方法。</p> <p>在 class 内声明的方法前使用 static 定义的方法即是静态方法。</p> <h3 id="访问器"><a href="#访问器" class="header-anchor">#</a> 访问器</h3> <p>使用访问器对对象的属性进行访问控制。</p> <ul><li>使用访问器可以管控属性，有效的防止属性的随意修改</li> <li>访问器就是在函数前加上 get/set 修饰</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_age
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_age <span class="token operator">=</span> value
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 访问器属性同时赋给对象和对象原型</span>
</code></pre></div><h3 id="访问控制"><a href="#访问控制" class="header-anchor">#</a> 访问控制</h3> <p>JS 中没有访问修饰符的概念，即不存在语法层面的访问控制</p> <p>一般约定：普通属性 public _属性 protected #属性 private</p> <p>但只是约定，调用者依然可以访问到</p> <p>有几种方式实现私有属性：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Symbol：任意两次new Symbol的值不同</span>
<span class="token keyword">const</span> symbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span>symbol<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span>symbol<span class="token punctuation">]</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'zhuli'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token comment">// WeakMap: WekMap可以使用对象作为key</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'zhuli'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</code></pre></div><h3 id="super"><a href="#super" class="header-anchor">#</a> super</h3> <p>既要调用原型对象的方法，又不想改变 this 的指向，需要使用 super 关键词</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'person.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> person<span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'user.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// person.name  由于此时原型对象中的this是原型自己(this.__proto__)</span>
    <span class="token comment">// this.__proto__.show();</span>
    <span class="token comment">// 两级继承时可以手动改变this的指向</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
user<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'person.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> person<span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'user.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 多级继承时，由于this始终指向admin,则this.__proto__指向user而不是person</span>
    <span class="token comment">// this.__proto__.show.call(this)</span>
    <span class="token comment">// 当然可以为了admin.show()手动调整，但显然这样做的适应性很差</span>
    <span class="token comment">// 如果user.show()则会报错</span>
    <span class="token comment">// this.__proto__.__proto__.show.call(this)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> admin <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> user<span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'admin.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
admin<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 使用super既能调用原型方法，又不破坏this的指向</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'person.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> person<span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'user.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> admin <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> user<span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'admin.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
admin<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="function"><a href="#function" class="header-anchor">#</a> Function</h2> <h3 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h3> <p>函数是将复用的代码块封装起来的模块，在 JS 中函数还有其他语言不具有的特性。</p> <h3 id="声明-5"><a href="#声明-5" class="header-anchor">#</a> 声明</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'console.log(title)'</span><span class="token punctuation">)</span>
<span class="token function">hd</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">hd</span><span class="token punctuation">(</span><span class="token parameter">title</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">hd</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setName</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> value
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'houdun'</span><span class="token punctuation">)</span>
user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="立即执行"><a href="#立即执行" class="header-anchor">#</a> 立即执行</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hd'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="函数提升"><a href="#函数提升" class="header-anchor">#</a> 函数提升</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">hd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">hd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hd'</span>
<span class="token punctuation">}</span>

<span class="token comment">// 赋值声明方式不会提升</span>
<span class="token keyword">let</span> <span class="token function-variable function">hd</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hd'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="形参实参"><a href="#形参实参" class="header-anchor">#</a> 形参实参</h3> <p>形参是在函数声明时设置的参数，实参指在调用函数时传递的参数。</p> <p>形参数量大于实参时，没有传参的形参值为 undefined。</p> <p>实参数量大于形参时，多余的实参将忽略并不会报错。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">n1<span class="token punctuation">,</span> n2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
</code></pre></div><h3 id="默认参数"><a href="#默认参数" class="header-anchor">#</a> 默认参数</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">n1<span class="token punctuation">,</span> n2 <span class="token operator">=</span> <span class="token number">3</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 5</span>
</code></pre></div><p>默认参数要放在最后面。</p> <h3 id="arguments"><a href="#arguments" class="header-anchor">#</a> arguments</h3> <p>arguments 是函数获得的所有参数的集合</p> <p>箭头函数不支持 arguments</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">hd</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">hd</span><span class="token punctuation">(</span><span class="token string">'zhuli'</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span>
</code></pre></div><p>建议使用不定参数</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">hd</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">3</span>
<span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b
<span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>value
</code></pre></div><h3 id="递归调用"><a href="#递归调用" class="header-anchor">#</a> 递归调用</h3> <p>递归指函数内部调用自身的方式。</p> <p>主要用于数量不确定的循环操作</p> <p>注意边界条件</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token parameter">num <span class="token operator">=</span> <span class="token number">3</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> num <span class="token operator">:</span> num <span class="token operator">*</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token operator">--</span>num<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">factorial</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="回调函数"><a href="#回调函数" class="header-anchor">#</a> 回调函数</h3> <p>在某个时刻被其他函数调用的函数称为回调函数。</p> <h3 id="不定参数"><a href="#不定参数" class="header-anchor">#</a> 不定参数</h3> <p>使用展开语法接收多个参数并封装为数组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">hd</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="this-绑定规则"><a href="#this-绑定规则" class="header-anchor">#</a> this 绑定规则</h3> <p>function(){}在运行时（被调用的时候）会基于绑定规则动态进行 this 绑定</p> <p>有两点强调：</p> <ul><li>this 是在运行时绑定的，不是定义时</li> <li>要看 this 的指向，关键在于看函数调用的位置和方式</li></ul> <p>根据函数调用位置和方式不同，有四种绑定策略</p> <ol><li>默认绑定
如果直接调用函数，则将 this 绑定到全局对象，在 Node 中是 global，在浏览器中是 window</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 运行时绑定</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>隐式绑定
如果有上下文对象调用函数，则将 this 绑定到上下文对象</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// 运行时绑定</span>
obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>显式绑定
通过调用函数的 call,apply,bind 方法进行绑定</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>

<span class="token comment">// 运行时绑定</span>
<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ol start="4"><li>new 绑定
new 的过程也叫函数的“构造调用”，经历了以下几个步骤： 1. 创建一个空对象 obj 2. 将对象 obj 的 Prototype 关联到构造函数的 Prototype 3. 将对象绑定到构造函数的 this 4. 如果构造函数没有返回对象，则返回对象 obj</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 运行时绑定</span>
foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="箭头函数-2"><a href="#箭头函数-2" class="header-anchor">#</a> 箭头函数</h3> <p><strong>function(){} 和 () =&gt; {} 的最大区别在于前者会在运行时绑定 this 对象，后者不会</strong></p> <p>由于 function(){}在运行时在内部自动绑定 this 对象，则不会访问外部作用域 this
由于() =&gt; {}不能自动绑定 this 对象，则只能访问外部作用域 this</p> <p>如果要使用动态绑定的 this，则使用 function(){}
如果要使用外部作用域的 this，则使用() =&gt; {}</p> <blockquote><p>估计 ES6 就是因为 function(){}总是自动绑定 this 造成嵌套 function 时需要 let self = this,然后需要在内层 function 使用 self.xxx 调用外层 this,才新添加了一个不会自动绑定 this 的函数：箭头函数 () =&gt; {}</p></blockquote> <h3 id="改变-this-绑定"><a href="#改变-this-绑定" class="header-anchor">#</a> 改变 this 绑定</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// apply / call 将对象绑定到this</span>
<span class="token comment">// apply用数组传参，call需要分别传参</span>
<span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'john'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token function">show</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>user1<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">show</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>user2<span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>

<span class="token comment">// bind绑定this对象并返回一个新函数</span>

<span class="token keyword">function</span> <span class="token function">hd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> hd2 <span class="token operator">=</span> <span class="token function">hd</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">hd2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="object"><a href="#object" class="header-anchor">#</a> Object</h2> <h3 id="基础知识-4"><a href="#基础知识-4" class="header-anchor">#</a> 基础知识</h3> <h4 id="oop"><a href="#oop" class="header-anchor">#</a> OOP</h4> <p>对象是属性和方法的集合，将复杂功能隐藏在内部，只开放给外部少量方法，更改对象内部的复杂逻辑不会对外部调用造成影响，即封装。</p> <p>继承是通过代码复用减少冗余代码。</p> <p>根据不同形态的对象产生不同结果即多态。</p> <h4 id="声明-6"><a href="#声明-6" class="header-anchor">#</a> 声明</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 字面量 系统内部使用new Object()创建</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'houdunren'</span><span class="token punctuation">,</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="属性管理"><a href="#属性管理" class="header-anchor">#</a> 属性管理</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span>
  <span class="token string">'my-age'</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// 访问属性</span>
user<span class="token punctuation">.</span>name
user<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span>
user<span class="token punctuation">[</span><span class="token string">'my-age'</span><span class="token punctuation">]</span> <span class="token comment">// 属性名不是合法的变量名必须使用[]</span>

<span class="token comment">// 设置属性</span>
user<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 删除属性</span>
<span class="token keyword">delete</span> hd<span class="token punctuation">.</span>show

<span class="token comment">// 检测自身属性</span>
obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>

<span class="token comment">// 在对象及其原型链上检测</span>
<span class="token string">'name'</span> <span class="token keyword">in</span> obj

<span class="token comment">// Object.assign设置属性</span>
<span class="token keyword">const</span> hd <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhuli'</span> <span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>hd<span class="token punctuation">,</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span>

<span class="token comment">// 计算属性</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token comment">// {3:'a'}</span>
</code></pre></div><h3 id="展开语法"><a href="#展开语法" class="header-anchor">#</a> 展开语法</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhuli'</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>hd<span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span>
</code></pre></div><h4 id="对象转换"><a href="#对象转换" class="header-anchor">#</a> 对象转换</h4> <p>对象计算时，根据情况调用 toString,valueOf 等方法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 内部自定义Symbol.toPrimitive方法用来处理所有的转换场景</span>
<span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">3</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">4</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 6</span>
</code></pre></div><h4 id="解构赋值"><a href="#解构赋值" class="header-anchor">#</a> 解构赋值</h4> <p>解构是一种更简洁的赋值特性，可以理解为分解一个数据的结构。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> n<span class="token punctuation">,</span> age<span class="token operator">:</span> a <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> a<span class="token punctuation">)</span>

<span class="token comment">// 如果属性名与变量相同可以省略属性定义</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>

<span class="token comment">// 函数返回值</span>
<span class="token keyword">const</span> <span class="token function-variable function">hd</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">hd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 函数参数</span>
<span class="token keyword">const</span> <span class="token function-variable function">hd</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">hd</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 赋值部分变量</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> age<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'zhuli'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span>

<span class="token comment">// 嵌套解构</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">,</span>
  lesson<span class="token operator">:</span> <span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span> lesson<span class="token operator">:</span> <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'JS'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span>

<span class="token comment">// 默认值</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'zhuli'</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token comment">// zhuli 22</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">22</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhuli'</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token comment">// zhuli 22</span>
</code></pre></div><h3 id="简洁定义"><a href="#简洁定义" class="header-anchor">#</a> 简洁定义</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'zhuli'</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">22</span>

<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token comment">// {name: 'zhuli', age: 22}</span>
</code></pre></div><h3 id="遍历对象"><a href="#遍历对象" class="header-anchor">#</a> 遍历对象</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token comment">// ['name']</span>
Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token comment">// ['zhuli']</span>
Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token comment">// [['name', 'zhuli']]</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// name</span>
<span class="token punctuation">}</span>

<span class="token comment">// 数组是可迭代对象，对象不是（在没有设置的情况下）</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="对象拷贝"><a href="#对象拷贝" class="header-anchor">#</a> 对象拷贝</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 浅拷贝</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> user</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token operator">...</span>user<span class="token punctuation">}</span>

<span class="token comment">// 深拷贝 JS中使用递归实现深拷贝</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span>
  parents<span class="token operator">:</span> <span class="token punctuation">{</span>
    mama<span class="token operator">:</span> <span class="token string">'祝英台'</span><span class="token punctuation">,</span>
    baba<span class="token operator">:</span> <span class="token string">'梁山伯'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">copy</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> v <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> <span class="token function">copy</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">:</span> v
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> res
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user2 <span class="token operator">=</span> <span class="token function">copy</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
user2<span class="token punctuation">.</span>parents<span class="token punctuation">.</span>mama <span class="token operator">=</span> <span class="token string">'朱丽叶'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user2<span class="token punctuation">.</span>parents<span class="token punctuation">.</span>mama<span class="token punctuation">)</span> <span class="token comment">// 朱丽叶</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>parents<span class="token punctuation">.</span>mama<span class="token punctuation">)</span>  <span class="token comment">// 祝英台</span>
</code></pre></div><h3 id="工厂函数"><a href="#工厂函数" class="header-anchor">#</a> 工厂函数</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">user</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">,</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token function">user</span><span class="token punctuation">(</span><span class="token string">'zhuli'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="构造函数-3"><a href="#构造函数-3" class="header-anchor">#</a> 构造函数</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'zhuli'</span><span class="token punctuation">)</span>

<span class="token comment">// 如果构造函数中返回一个对象，则该对象为实例对象</span>
<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 注意要返回一个非空对象才会覆盖</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// String {&quot;success&quot;}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'zhuliye'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 内置构造</span>
<span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'zhuli'</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\\d+'</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span>
  <span class="token string">'name'</span><span class="token punctuation">,</span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
	console.log(name)
</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="闭包实现私有方法"><a href="#闭包实现私有方法" class="header-anchor">#</a> 闭包实现私有方法</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// JS中没有私有方法，但我们可以通过闭包实现私有方法（函数）</span>
<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token comment">//</span>
  <span class="token keyword">const</span> <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'zhuliye'</span><span class="token punctuation">)</span>
user<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>###属性描述符</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 查看描述符</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>

<span class="token comment">// 四种描述符：configurable, enumerable,writable,value</span>

<span class="token comment">// 修改描述符</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span>
  writable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  configurable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> xx<span class="token punctuation">,</span> writable<span class="token operator">:</span> xx <span class="token punctuation">}</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> xx<span class="token punctuation">,</span> writable<span class="token operator">:</span> xx <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 禁止添加属性</span>
Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>

<span class="token comment">// 判断能否添加属性</span>
Object<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>

<span class="token comment">// 封闭一个对象 不允许添加且configurable=false</span>
Object<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>

<span class="token comment">// 判断对象是否封闭</span>
Object<span class="token punctuation">.</span><span class="token function">isSealed</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>

<span class="token comment">// 冻结一个对象 不允许添加且configurable,writable都为false</span>
Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>

<span class="token comment">// 判断对象是否冻结</span>
Object<span class="token punctuation">.</span><span class="token function">isFrozen</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
</code></pre></div><h3 id="访问器属性"><a href="#访问器属性" class="header-anchor">#</a> 访问器属性</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span>
  <span class="token keyword">get</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_age
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">set</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_age <span class="token operator">=</span> value
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="访问器描述符"><a href="#访问器描述符" class="header-anchor">#</a> 访问器描述符</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> data<span class="token punctuation">.</span>name
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        data<span class="token punctuation">.</span>name <span class="token operator">=</span> value
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'zhuli'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</code></pre></div><h3 id="代理模式"><a href="#代理模式" class="header-anchor">#</a> 代理模式</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 代理是一种非侵入式的功能扩展的模式，js中使用Proxy实现静态代理</span>

<span class="token comment">// get/set 代理一个对象</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhuli'</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'***'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    obj<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">=</span> value
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// zhuli***</span>

<span class="token comment">// apply 代理一个函数</span>
<span class="token keyword">function</span> <span class="token function">hd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'main'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>hd<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'before'</span><span class="token punctuation">)</span>
    <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'after'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="json"><a href="#json" class="header-anchor">#</a> JSON</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 序列化</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span>
<span class="token comment">// 序列化user对象，只保留name字段，前面添加4个tab缩进</span>
<span class="token comment">// 字段是支持深度递归的</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token comment">// 序列化user对象，只保留name字段，前面添加一个前导字符*</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span>

<span class="token comment">// 自定义JSON格式</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'zhuli'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
  <span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>

<span class="token comment">// 反序列化</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'{&quot;name&quot;: &quot;zhuli&quot;}'</span><span class="token punctuation">)</span>

<span class="token comment">// 二次处理  key是支持深度的递归的</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'{&quot;name&quot;: &quot;zhuli&quot;}'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">'name'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">beautiful </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> value
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="垃圾回收机制"><a href="#垃圾回收机制" class="header-anchor">#</a> 垃圾回收机制</h2> <p>当我们在函数内部引入一个变量或函数时，系统都会开辟一块内存空间，还会将这块内存的引用计数器进行初始化，初始化为 0。</p> <p>如果外部有全局变量或程序引用了这块空间，则引用计数器会自动进行+1 操作。</p> <p>当函数执行完毕后，变量计数器重新归零，系统会运行垃圾回收机制，将函数运行产生的数据销毁。</p> <p>如计数器不是 0，则不会清除数据。</p> <p>这个过程就称之为”JS 的垃圾回收机制“。</p> <h2 id="bom"><a href="#bom" class="header-anchor">#</a> BOM</h2> <p>BOM 浏览器对象模型。</p> <p>window 是浏览器中的 Global 对象。</p> <p>top 对象始终指向最外层的框架，也就是浏览器窗口。</p> <h3 id="location-对象"><a href="#location-对象" class="header-anchor">#</a> location 对象</h3> <p>location 是最有用的 BOM 对象之一，它提供了与当前窗口中加载的文档有关的信息，还提供了一些导航功能。事实上，location 对象是很特别的一个对象，因为它既是 window 对象的属性，也是 document 对象的属性；换句话说，window.location 和 document.location 引用的是同一个对象。location 对象的用处不只表现在它保存着当前文档的信息，还表现在它将 URL 解析为独立的片段，让开发人员可以通过不同的属性访问这些片段。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">''</span>
location<span class="token punctuation">.</span>hash
location<span class="token punctuation">.</span>search
location<span class="token punctuation">.</span>hostname
location<span class="token punctuation">.</span>pathname
location<span class="token punctuation">.</span>port

location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="history-对象"><a href="#history-对象" class="header-anchor">#</a> history 对象</h3> <p>history 对象保存着用户上网的历史记录，从窗口被打开的那一刻算起。因为 history 是 window 对象的属性，因此每个浏览器窗口、每个标签页乃至每个框架，都有自己的 history 对象与特定的 window 对象关联。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token string">'wrox.com'</span><span class="token punctuation">)</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
history<span class="token punctuation">.</span>length
</code></pre></div><h2 id="dom"><a href="#dom" class="header-anchor">#</a> DOM</h2> <p>DOM 文档对象模型。</p> <h3 id="node-类型"><a href="#node-类型" class="header-anchor">#</a> Node 类型</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>nodeType
nodeName
nodeValue

childNodes <span class="token function">NodeList</span><span class="token punctuation">(</span>不是Array的实例<span class="token punctuation">)</span>
childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
childNodes<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

parentNode
previousSibling
nextSibling

firstChild
lastChild

<span class="token function">hasChildNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
ownerDocument

<span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">insertBefore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">replaceChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="document-类型"><a href="#document-类型" class="header-anchor">#</a> document 类型</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span>documentElement
document<span class="token punctuation">.</span>body
document<span class="token punctuation">.</span>doctype
document<span class="token punctuation">.</span>title
document<span class="token punctuation">.</span><span class="token constant">URL</span>
document<span class="token punctuation">.</span>domain
document<span class="token punctuation">.</span>referrer

document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> HTMLCollection

hc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
hc<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span>
hc<span class="token punctuation">.</span><span class="token function">namedItem</span><span class="token punctuation">(</span><span class="token string">'myImg'</span><span class="token punctuation">)</span>
hc<span class="token punctuation">[</span><span class="token string">'myImg'</span><span class="token punctuation">]</span>

document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>


document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="element-类型"><a href="#element-类型" class="header-anchor">#</a> Element 类型</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'myDiv'</span><span class="token punctuation">)</span>
div<span class="token punctuation">.</span>tagName
div<span class="token punctuation">.</span>nodeName
div<span class="token punctuation">.</span>id
div<span class="token punctuation">.</span>className
div<span class="token punctuation">.</span>title
div<span class="token punctuation">.</span>lang
div<span class="token punctuation">.</span>dir

div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span>
div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
div<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

div<span class="token punctuation">.</span>attributes <span class="token operator">-</span> NamedNodeMap

nnm<span class="token punctuation">.</span><span class="token function">getNamedItme</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
nnm<span class="token punctuation">.</span><span class="token function">removeNamedItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
nnm<span class="token punctuation">.</span><span class="token function">setNamedItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
nnm<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span>
</code></pre></div><h3 id="text-类型"><a href="#text-类型" class="header-anchor">#</a> Text 类型</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> text <span class="token operator">=</span> div<span class="token punctuation">.</span><span class="token function">firstChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
text<span class="token punctuation">.</span>nodeType
text<span class="token punctuation">.</span>nodeName
text<span class="token punctuation">.</span>nodeValue <span class="token operator">/</span> text<span class="token punctuation">.</span>data
text<span class="token punctuation">.</span>parentNode
text<span class="token punctuation">.</span>length

text<span class="token punctuation">.</span><span class="token function">appendData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
text<span class="token punctuation">.</span><span class="token function">deleteData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
text<span class="token punctuation">.</span><span class="token function">replaceData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
text<span class="token punctuation">.</span><span class="token function">splitText</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
text<span class="token punctuation">.</span><span class="token function">substringData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 一般情况下，每个元素只有一个文本子节点。不过，在某些情况下也可能包含多个文本子节点；如果两个文本节点是相邻的同胞节点，那么这两个节点中的文本就会连起来显示，中间不会有空格。</span>
</code></pre></div><h3 id="comment-类型"><a href="#comment-类型" class="header-anchor">#</a> Comment 类型</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">createComment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="attr-类型"><a href="#attr-类型" class="header-anchor">#</a> Attr 类型</h3> <div class="language- extra-class"><pre class="language-text"><code>let attr = document.createAttribute()
attr.value
attr.name
attr.specified
element.setAttributeNode(attr)
element.getAttributeNode()
</code></pre></div><h2 id="事件"><a href="#事件" class="header-anchor">#</a> 事件</h2> <p>JavaScript 与 HTML 之间的交互是通过事件实现的。事件，就是文档或浏览器窗口中发生的一些特定的交互瞬间。可以使用侦听器来预定事件，以便事件发生时执行相应的代码。</p> <h3 id="事件流"><a href="#事件流" class="header-anchor">#</a> 事件流</h3> <p>事件流描述的是从页面中接收事件的顺序。IE 的事件流是事件冒泡流，而 Netscape Communicator 的事件流是事件捕获流。</p> <ul><li><p>事件冒泡</p> <p>事件冒泡即事件开始时由最具体的元素接收，然后逐级向上传播到较为不具体的节点。</p> <p>所有现代浏览器都支持事件冒泡。</p></li> <li><p>事件捕获</p> <p>事件捕获的思想是不太具体的节点应该更早收到事件，而最具体的节点应该最后接收到事件。</p> <p>老版本的浏览器不支持事件捕获，建议使用事件冒泡，有特殊需要时再使用事件捕获。</p></li></ul> <p>事件流包括三个阶段：事件捕获阶段、处于目标阶段和事件冒泡阶段。</p> <h3 id="事件处理程序"><a href="#事件处理程序" class="header-anchor">#</a> 事件处理程序</h3> <p>事件就是用户或浏览器自身执行的某种动作。注入 click,load 和 mouseover 都是事件的名字。而响应某个事件的函数就叫做事件处理程序（事件侦听器）。事件处理程序的名字以”on“开头。因此，click 事件的事件处理程序就是 onclick，load 事件的处理程序就是 onload。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="事件对象"><a href="#事件对象" class="header-anchor">#</a> 事件对象</h3> <p>在触发 DOM 上的某个事件时，会产生一个事件对象 event，这个对象中包含着所有与事件有关的信息。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>event<span class="token punctuation">.</span>bubbles
event<span class="token punctuation">.</span>cancelable
event<span class="token punctuation">.</span>currentTarget
event<span class="token punctuation">.</span>defaultPrevented
event<span class="token punctuation">.</span>detail
event<span class="token punctuation">.</span>eventPhase
event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
event<span class="token punctuation">.</span><span class="token function">stopImmediatePropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
event<span class="token punctuation">.</span>target
event<span class="token punctuation">.</span>isTrusted
event<span class="token punctuation">.</span>type
event<span class="token punctuation">.</span>view
</code></pre></div><h3 id="事件类型"><a href="#事件类型" class="header-anchor">#</a> 事件类型</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// UI事件: load,unload,resize,scroll</span>
<span class="token comment">// 焦点事件：blur,focus</span>
<span class="token comment">// 鼠标事件：click,dblclick,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup</span>
<span class="token comment">// 键盘事件：keydown,keypress,keyup,textInput</span>
</code></pre></div><h3 id="事件委托-代理"><a href="#事件委托-代理" class="header-anchor">#</a> 事件委托(代理)</h3> <p>对”事件处理程序过多&quot;问题的解决方案就是事件委托。事件委托利用了事件冒泡，只指定一个事件处理程序，就可以管理某一类型的所有事件。例如 click 事件会一直冒泡到 document 层次，也就是说，我们可以为整个页面指定一个 onclick 事件处理程序,而不必给每个可单击的元素分别添加事件处理程序。</p> <p>在父子级元素中，如果子元素很多且每个子元素都要监听相同的事件且事件处理函数的逻辑也相同，那么可以选择将监听过程放到父级元素，通过事件流中的捕获和冒泡进行触发，然后根据 event.target 获得目标触发元素。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span>
      <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>hello world 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>hello world 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>hello world 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">const</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#list'</span><span class="token punctuation">)</span>
      <span class="token comment">// 在父级监听事件，通过捕获冒泡获得子元素事件，这就是事件代理。</span>
      ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上述代码中，我们想要监听 li 的点击事件，但是如果 li 元素很多那么为每一个 li 元素绑定事件会造成很大的开销，所以选择在 ul 上绑定事件，减少开销。</p> <blockquote><p>事件代理就是一种编程思路，本质上还是要理解事件流的三个阶段：捕获阶段，目标阶段，冒泡阶段。</p></blockquote> <h3 id="自定义事件"><a href="#自定义事件" class="header-anchor">#</a> 自定义事件</h3> <p>JS 中我们可以自定义事件并通过自己派发自己监听的方式使用自定义事件完成元素之间的联动。</p> <p>通常父子级元素之间可以通过事件流中捕获冒泡过程进行联动，但同级元素之间想要事件联动，就可以使用自定义事件。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span>
      <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>one<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello One<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>two<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello Two<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>three<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello Three<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">const</span> one <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> two <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'two'</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> three <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'three'</span><span class="token punctuation">)</span>
      <span class="token comment">// 自定义事件对象</span>
      <span class="token keyword">const</span> myEvent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span><span class="token string">'myEvent'</span><span class="token punctuation">)</span>
      <span class="token comment">// two和three元素监听自定义事件</span>
      two<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'myEvent'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      three<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'myEvent'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// 点击one元素,two和three元素在内部派发自定义事件</span>
      one<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 派发事件使用dispatchEvent方法</span>
        two<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>myEvent<span class="token punctuation">)</span>
        three<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>myEvent<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="super-关键字"><a href="#super-关键字" class="header-anchor">#</a> super 关键字</h2> <p>JS 中 super 关键词是用来调用原型对象的属性和方法的，本文分析使用 super 关键词的必要性</p> <h3 id="this-指向导致的原型调用问题"><a href="#this-指向导致的原型调用问题" class="header-anchor">#</a> this 指向导致的原型调用问题</h3> <p>JS 中存在多种”this 绑定“方式，最核心的就是”调用绑定“，即<code>xxx.show()</code>，那么 show 方法中的 this 就指向 xxx。</p> <blockquote><p>如果直接 show()，那么实际上在浏览器中是 window.show()，this 就指向 window。</p></blockquote> <p>通常 this 绑定在基于原型链的方法调用下是没有问题的，无论调用的方法是否来自于原型。
但是，在继承的场景下，如果需要<strong>手动调用原型方法</strong>，比如<code>this.__proto__.show()</code>，那么 show 方法中的 this 就会指向 this.<strong>proto</strong>，即原型对象自己。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'person.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> person<span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'user.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// person.name  由于此时原型对象中的this是原型自己(this.__proto__)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
user<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>这里就会产生冲突，因为我们希望即便手动调用原型，this 的指向仍然是对象本身而不是原型。</p> <blockquote><p>super 关键字就可以解决这种问题，既可以调用原型方法同时又不改变 this 指向。</p></blockquote> <h3 id="通过-call-方法解决-this-指向问题"><a href="#通过-call-方法解决-this-指向问题" class="header-anchor">#</a> 通过 call 方法解决 this 指向问题</h3> <p>当然我们可以使用 call 方法重新定义 this 指向。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'person.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> person<span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'user.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用call方法重新定义this指向</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
user<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>但是<code>this.__proto__.show.call()</code>在多级继承中就不生效了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'person.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> person<span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'user.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 多级继承时，由于this始终指向admin,则this.__proto__指向user而不是person</span>
    <span class="token comment">// this.__proto__.show.call(this)</span>
    <span class="token comment">// 当然可以为了admin.show()手动调整，但显然这样做的适应性很差</span>
    <span class="token comment">// 如果user.show()则会报错</span>
    <span class="token comment">// this.__proto__.__proto__.show.call(this)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> admin <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> user<span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'admin.name'</span><span class="token punctuation">,</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
admin<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>所以，手动修改 this 的指向既繁琐又不灵活，JS 于是提供了 super 关键词实现这些功能。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/frontend/JavaScript/DOM.html">
        DOM
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e05bc23e.js" defer></script><script src="/assets/js/2.51b70fa5.js" defer></script><script src="/assets/js/186.9eb8de24.js" defer></script>
  </body>
</html>
